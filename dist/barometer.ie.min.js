/*! barometer v2.0.0 */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.e?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";var r=e.exports={},i=n(6),o=n(1);r.url="XXXXX",r.t=function(){r.buffer={project:null,timings:{},counters:{}},r.bufferSize=0},r.t(),r.count=function(e){r.buffer.counters[e]=r.buffer.counters[e]||0,r.buffer.counters[e]++,r.r(),r.bufferSize++,window.barometer.debug&&console.log("count",e)},r.timing=function(e,t){r.buffer.timings[e]=r.buffer.timings[e]||[],r.buffer.timings[e].push(t),r.r(),r.bufferSize++,window.barometer.debug&&console.log("timing",e,t)};var a=null;r.r=function(){a&&r.bufferSize<100&&clearTimeout(a),a=setTimeout(r.a,5e3)},r.a=function(e){if(0!==r.bufferSize&&o.url){a&&(clearTimeout(a),a=null);var t=r.buffer;t.project=o.project,r.t();var n=o.url;if(navigator.sendBeacon)navigator.sendBeacon(n,JSON.stringify(t));else{var u=new i.u;u.open("POST",n,!0),u.timeout=4e3,u.setRequestHeader("Content-Type","application/json"),u.send(JSON.stringify(t))}}}},function(e,t,n){"use strict";var r=window.barometer=e.exports={},i=n(0),o=n(4),a=n(7);n(3),n(6),n(8),r.url=null,r.project=null,r.offset=a.offset,r.timing=i.timing,r.count=i.count,r.onPageChanged=o.onPageChanged,r.oncePageLoaded=o.oncePageLoaded},function(e,t,n){"use strict";e.exports=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}},function(e,t,n){"use strict";var r=e.exports={},i=n(2),o=n(1),a=n(0),u=n(5);r.f=function(e){var t={},n=e.navigationStart;e.toJSON&&(e=e.toJSON());for(var r in e)"navigationStart"!==r&&0!==e[r]&&(t[r]=e[r]-n);return 0!==e.navigationStart&&(t.timeToFirstScript=o.pageStartedAt-e.navigationStart),t},r.g=function(e){var t=u(window.location.href,window.location.hash);return'client_pageload_event{host="'+t[0]+'",path="'+t[1]+'",measure="'+e+'"}'},r.h=function(e){var t=u(window.location.href,window.location.hash);return'client_pageload_seconds{host="'+t[0]+'",path="'+t[1]+'",measure="'+e+'"}'},r.v=function(){var e,t=window.performance.timing||{},n=r.f(t);for(var i in n)e=r.h(i),a.timing(e,n[i])},"object"==typeof window.performance&&("complete"===document.readyState?r.v():i(window,"load",r.v))},function(e,t,n){"use strict";var r,i,o,a=e.exports={},u=n(2),s=n(3),c=n(0),f=n(1),l=0,p=[];a.w=function(){c.timing(i,new Date-r)},a._=function(){var e=new Date;f.pageStartedAt=e,c.count(s.g("visits")),r&&a.w(),l++;var t=l,n=0,u=[9,9,9,9,9],g=!1,d=s.h("dynamic"),h=function(){clearTimeout(m),o=!0,r=new Date,i=s.h("engagement");c.timing(d,new Date-e-125);for(var t=0;t<p.length;t++)p[t]()},m=setTimeout(function(){if(g=!0,1===l)for(var e=0;e<p.length;e++)p[e]()},6e3),v=function(){var e=new Date;setTimeout(function(){var r=new Date,i=r-e-25;if(i>n&&(n=i),!g){if(t!==l)return h();u.shift(),u.push(i);for(var o=0,a=0;a<5;a++)o+=u[a];if(o<5&&n>25)return h();setTimeout(v,25)}},25)};v()},a._(),window.history?(u(window,"popstate",a._),function(e){if(e){var t=e.pushState;e.pushState=function(){return a._(),t.apply(e,arguments)}}}(window.history)):u(window,"hashchange",a._),a.onPageChanged=function(e){p.push(e)},a.oncePageLoaded=function(e){if(o)return e();var t=!1;a.onPageChanged(function(){t||(t=!0,e())})}},function(e,t,n){"use strict";e.exports=function(e,t){var n=(e||"").split("?")[0];n=n.replace(/^https?:\/\//i,""),"/"===n[0]&&(n=(window.location.host||"")+n),"/"===n[n.length-1]&&(n=n.slice(0,n.length-1)),t=t||"",t=t.split("?")[0].slice(1),"/"!==t[0]&&(n+="/"),n+=t;for(var r=n.split(/[\/.]/g),i=0;i<r.length;i++)r[i].length>25&&(n=n.replace(r[i],"UUID")),r[i].match(/^[A-Z0-9-]+$/)&&(n=n.replace(r[i],"CODE"));n=n.replace(/["']/gi,"");var o=n.split("/"),a=o.shift();return o=o.join("/"),[a,o]}},function(e,t,n){"use strict";var r=e.exports={},i=n(2),o=n(0),a=n(5);r.u=window.XMLHttpRequest;var u=["unsent","opened","headers_received","loading","done"];r.f=function(e,t){var n={};for(var r in e)"_"!==r[0]&&0!==e[r]&&(n[r]=e[r]-t);return n},r.S=function(e){var t,n=a(e.url),i=r.f(e.readyStateTimes,e.offset);for(var u in i)t='client_xhr_seconds{method="'+e.type+'",host="'+n[0]+'",path="'+n[1]+'",tag="'+u+'"}',o.timing(t,i[u]);t='client_xhr_response_events{method="'+e.type+'",host="'+n[0]+'",path="'+n[1]+'",httpCode="'+e.request.status+'"}',o.count(t),t='client_xhr_response_bytes{method="'+e.type+'",host="'+n[0]+'",path="'+n[1]+'",httpCode="'+e.request.status+'"}',o.timing(t,(e.request.responseText||"").length)},window.XMLHttpRequest=function(){var e,t,n,o=new r.u,a={},s=o.open;return i(o,"readystatechange",function(){a[u[o.readyState]]=new Date}),i(o,"loadend",function(i){setTimeout(function(){a.processed=new Date;var i={type:t.toLowerCase(),url:n,readyStateTimes:a,offset:e,request:o};try{r.S(i)}catch(e){}},0)}),o.open=function(r,i){return e=new Date,t=r,n=i,s.apply(o,arguments)},o}},function(e,t,n){"use strict";var r=e.exports={},i=n(1),o=n(3),a=n(0);r.offset=function(e){var t=new Date-i.pageStartedAt,n=o.h(e);a.timing(n,t)}},function(e,t,n){"use strict";var r=e.exports={},i=n(4),o=n(0),a=0;r.handleResource=function(e){var t=r.findRule(e);t&&r.track(e,t)},r.findRule=function(e){var t=window.barometer.resources;if(t){for(var n=e.name.replace(/https?:\/\//i,"").split("/"),r=n.shift(),i=n.join("/"),o=0;o<t.length;o++){var a=t[o];if((!a.domain||r.match(a.domain))&&(!a.path||i.match(a.path)))return a}return null}},r.track=function(e,t){var n=e.name.replace(/https?:\/\//i,"").split("/"),r=n.shift(),i=(t.rename||n.join("/")).split("?")[0];for(var a in t.metrics){a=t.metrics[a];var u=e[a];0!==u&&o.timing('client_resource_event{host="'+r+'",path="'+i+'",lifeCycle="'+a+'"}',u)}},r.initialise=function(){window.performance&&window.performance.getEntries&&i.onPageChanged(function(){var e=window.performance.getEntries();if(e&&e.length)for(;a<e.length;a++)r.handleResource(e[a])})},r.initialise()},function(e,t,n){e.exports=n(1)}]);